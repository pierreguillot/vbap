#N canvas 72 68 720 632 10;
#X obj 504 243 nbx 5 14 -1e+37 1e+37 0 0 empty \$0-angle empty 0 -8
0 10 -262144 -1 -1 0 256;
#X obj 524 314 list prepend set;
#X obj 524 336 list trim;
#X msg 524 358 0 0 0 0 0 0 0 0;
#X msg 471 15 \; pd dsp 1;
#X msg 403 16 \; pd dsp 0;
#X obj 168 345 list prepend set;
#X obj 168 367 list trim;
#X msg 168 389 0.0519623 0.997296 0.0519623;
#X obj 9 293 noise~;
#N canvas 0 22 450 300 init 0;
#X obj 14 19 loadbang;
#X msg 14 41 0;
#X obj 14 63 s \$0-angle;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 237 8 pd init;
#X obj 387 292 noise~;
#X text 528 380 Gains of the loudspkeakers, f 13;
#N canvas 252 23 618 319 loudspks.display~ 0;
#X obj 238 96 inlet~;
#X obj 157 107 cnv 10 10 10 empty \$0-ls-8-1 empty 20 12 0 14 -166441
-262144 0;
#X obj 248 145 inlet~;
#X obj 127 137 cnv 10 10 10 empty \$0-ls-8-2 empty 20 12 0 14 -166441
-262144 0;
#X obj 157 167 cnv 10 10 10 empty \$0-ls-8-3 empty 20 12 0 14 -166441
-262144 0;
#X obj 127 217 cnv 10 10 10 empty \$0-ls-8-5 empty 20 12 0 14 -166441
-262144 0;
#X obj 187 137 cnv 10 10 10 empty \$0-ls-8-4 empty 20 12 0 14 -166441
-262144 0;
#X obj 157 187 cnv 10 10 10 empty \$0-ls-8-8 empty 20 12 0 14 -166441
-262144 0;
#X obj 187 217 cnv 10 10 10 empty \$0-ls-8-7 empty 20 12 0 14 -166441
-262144 0;
#X obj 157 247 cnv 10 10 10 empty \$0-ls-8-6 empty 20 12 0 14 -166441
-262144 0;
#X obj 268 196 inlet~;
#X obj 278 245 inlet~;
#X obj 408 96 inlet~;
#X obj 418 145 inlet~;
#X obj 438 196 inlet~;
#X obj 448 245 inlet~;
#X obj 238 122 misc/color.ls~ \$0-ls-8-1;
#X obj 248 171 misc/color.ls~ \$0-ls-8-2;
#X obj 268 222 misc/color.ls~ \$0-ls-8-3;
#X obj 278 271 misc/color.ls~ \$0-ls-8-4;
#X obj 408 122 misc/color.ls~ \$0-ls-8-5;
#X obj 418 171 misc/color.ls~ \$0-ls-8-6;
#X obj 438 222 misc/color.ls~ \$0-ls-8-7;
#X obj 448 271 misc/color.ls~ \$0-ls-8-8;
#X connect 0 0 16 0;
#X connect 2 0 17 0;
#X connect 10 0 18 0;
#X connect 11 0 19 0;
#X connect 12 0 20 0;
#X connect 13 0 21 0;
#X connect 14 0 22 0;
#X connect 15 0 23 0;
#X coords 0 -1 1 1 124 165 2 100 100;
#X restore 387 340 pd loudspks.display~;
#X text 384 145 Text that contains the angles in degrees, f 21;
#X obj 9 446 misc/vu.meter~;
#X obj 64 376 misc/vu.meter~;
#X text 7 155 Text that contains the angles in degrees, f 21;
#X text 117 211 Angle of the virtual source in degrees, f 21;
#X text 168 410 Gains of the loudspkeakers, f 13;
#N canvas 0 22 450 300 header 0;
#X text 81 12 by Pierre Guillot - 2016;
#X obj 11 11 cnv 15 65 18 empty empty vbap.3d 2 8 0 14 -262144 -66577
0;
#X coords 0 -1 1 1 222 20 2 10 10;
#X restore 9 7 pd header;
#X text 10 34 An abstraction that computes the gains of a set of loudspeakers
for the spatialization of a virtual source using V. Pulkki's Vector
Base Amplitude Panning technique.;
#X text 10 84 The argument is the name of the text object that contains
a line starting with "angles" and the angles in degrees of the loudspeakers.
The angles should be in ascending order. If you change the angles of
the text object \, you can bang the right inlet to re-compute the matrices.
You can also change the text object by sending the name of the new
text object as a symbol in the right inlet., f 105;
#X obj 387 188 text define -k \$0-cube;
#A set angles 45 35.3 135 35.3 225 35.3 315 35.3 45 -35.3 135 -35.3
225 -35.3 315 -35.3;
#N canvas 0 22 496 180 vector.gain.cube~ 0;
#X obj 26 15 inlet~;
#X obj 54 107 *~;
#X obj 69 15 inlet;
#X obj 69 37 unpack f f f f f f f f, f 58;
#X msg 69 59 \$1 20;
#X obj 69 81 line~;
#X obj 54 129 outlet~;
#X obj 103 107 *~;
#X msg 118 59 \$1 20;
#X obj 118 81 line~;
#X obj 103 129 outlet~;
#X obj 152 107 *~;
#X msg 167 59 \$1 20;
#X obj 167 81 line~;
#X obj 152 129 outlet~;
#X obj 201 107 *~;
#X msg 216 59 \$1 20;
#X obj 216 81 line~;
#X obj 201 129 outlet~;
#X obj 251 107 *~;
#X msg 266 59 \$1 20;
#X obj 266 81 line~;
#X obj 251 129 outlet~;
#X obj 300 107 *~;
#X msg 315 59 \$1 20;
#X obj 315 81 line~;
#X obj 300 129 outlet~;
#X obj 349 107 *~;
#X msg 364 59 \$1 20;
#X obj 364 81 line~;
#X obj 349 129 outlet~;
#X obj 398 107 *~;
#X msg 413 59 \$1 20;
#X obj 413 81 line~;
#X obj 398 129 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 7 0;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 0 0 19 0;
#X connect 0 0 23 0;
#X connect 0 0 27 0;
#X connect 0 0 31 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 8 0;
#X connect 3 2 12 0;
#X connect 3 3 16 0;
#X connect 3 4 20 0;
#X connect 3 5 24 0;
#X connect 3 6 28 0;
#X connect 3 7 32 0;
#X connect 4 0 5 0;
#X connect 5 0 1 1;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 13 0 11 1;
#X connect 15 0 18 0;
#X connect 16 0 17 0;
#X connect 17 0 15 1;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 21 0 19 1;
#X connect 23 0 26 0;
#X connect 24 0 25 0;
#X connect 25 0 23 1;
#X connect 27 0 30 0;
#X connect 28 0 29 0;
#X connect 29 0 27 1;
#X connect 31 0 34 0;
#X connect 32 0 33 0;
#X connect 33 0 31 1;
#X restore 387 315 pd vector.gain.cube~;
#X obj 504 292 vbap.3d \$0-cube;
#X obj 504 262 pack f f, f 12;
#X text 502 211 Angles of the virtual source in degrees, f 21;
#X obj 573 243 nbx 5 14 -1e+37 1e+37 0 0 empty \$0-angle empty 0 -8
0 10 -262144 -1 -1 0 256;
#X obj 8 189 text define -k \$0-tri;
#A set;
#N canvas 0 22 250 192 vector.gain.tri~ 0;
#X obj 26 15 inlet~;
#X obj 54 107 *~;
#X obj 69 15 inlet;
#X msg 69 59 \$1 20;
#X obj 69 81 line~;
#X obj 54 129 outlet~;
#X obj 103 107 *~;
#X msg 118 59 \$1 20;
#X obj 118 81 line~;
#X obj 103 129 outlet~;
#X obj 69 37 unpack f f f, f 17;
#X obj 153 107 *~;
#X msg 168 59 \$1 20;
#X obj 168 81 line~;
#X obj 153 129 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 6 0;
#X connect 0 0 11 0;
#X connect 1 0 5 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 10 0 3 0;
#X connect 10 1 7 0;
#X connect 10 2 12 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 13 0 11 1;
#X restore 9 345 pd vector.gain.tri~;
#X obj 120 446 misc/vu.meter~;
#X obj 120 251 nbx 5 14 -1e+37 1e+37 0 0 empty \$0-angle empty 0 -8
0 10 -262144 -1 -1 0 256;
#X obj 120 300 pack f f, f 12;
#X obj 179 251 nbx 5 14 -1e+37 1e+37 0 0 empty \$0-angle empty 0 -8
0 10 -262144 -1 -1 33 256;
#X obj 179 270 t b f;
#X obj 120 279 f;
#X obj 120 323 vbap.3d.tri 45 0 0 35.3 -45 0;
#X connect 0 0 26 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 9 0 30 0;
#X connect 11 0 24 0;
#X connect 24 0 13 0;
#X connect 24 1 13 1;
#X connect 24 2 13 2;
#X connect 24 3 13 3;
#X connect 24 4 13 4;
#X connect 24 5 13 5;
#X connect 24 6 13 6;
#X connect 24 7 13 7;
#X connect 25 0 1 0;
#X connect 25 0 24 1;
#X connect 26 0 25 0;
#X connect 28 0 26 1;
#X connect 30 0 15 0;
#X connect 30 1 16 0;
#X connect 30 2 31 0;
#X connect 32 0 36 0;
#X connect 33 0 37 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 35 1 33 1;
#X connect 36 0 33 0;
#X connect 37 0 6 0;
#X connect 37 0 30 1;
